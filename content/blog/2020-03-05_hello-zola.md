+++
title = "Hello, Zola!"
description = "Zola SSG by example"

[taxonomies]
tags = ["ssg", "zola"]

[extra]
summary = "There are many ways to make a website. From CMS platforms such as WordPress and Joomla to plain old static files. Static site generators are a nice middle ground  between the two."
+++
 
## What are SSGs? {#ssgs}
In a nutshell static site generator takes your content, usually in the form of markdown files, applies it to a template and generates an HTML based static site.

Why would one decided to use SSG?
 - **Hosting**: There is no backend or dynamic content. The whole site is just a bunch of static files and as such can be hosted directly on any [CDN](https://en.wikipedia.org/wiki/Content_delivery_network).
 - **Security**: There’s nothing dynamic that can be exploited. No vulnerable login screen just plain-text and static files.
 - **Simplicity**: Everything is plain text. This means that we can really easily work with all our favorite text editing tools.
 - **Version Control**: No trouble with database backups and dependencies. The whole site is version controlled and easily managed.

There are many [options](https://www.staticgen.com/) to choose from. The following are some of the popular static site generators.

 - [Next.js](https://nextjs.org/) (JS)
 - [Hugo](https://gohugo.io/) (Go)
 - [Jekyll](https://jekyllrb.com/) (Ruby)
 - [Pelican](https://blog.getpelican.com/) (Python)
 - [Zola](https://www.getzola.org/) (Rust)

What eventually caught my attention was [Zola](https://www.getzola.org/) (Formally Gutenberg[^1]) a [Rust](https://www.rust-lang.org/) based SSG.

* It uses [Tera](https://tera.netlify.com/). Templating engine inspired by [Jinja2](https://jinja.palletsprojects.com/en/2.11.x/) and [Django templates](https://docs.djangoproject.com/en/3.0/topics/templates/).
* The content is written in [CommonMark](https://commonmark.org/), a strongly defined, highly compatible specification of Markdown.
* It has [Sass](https://www.getzola.org/documentation/content/sass/) built in, which removes a lot of the need for a frontend build pipeline.
* Since it is written in Rust if I run into any issues, I could contribute rather than just complaining!

## Getting started!
### Installation

[Installation](https://www.getzola.org/documentation/getting-started/installation/) is dead simple. Zola provides pre-built binaries in the repositories for the following:

 - Arch Linux
 - macOS
 - Fedora
 - FreeBSD
 - Snapcraft
 - Windows
 
 For instance, to install Zola on Fedora, all you have to do is grab the package. 
 ```bash
dnf install zola
 ```
 
Zola also provides pre-built binaries for MacOS, Linux and Windows on the [GitHub release page](https://github.com/getzola/zola/releases). There is no need to install Rust or anything. Just install the package and you are ready to roll. Unless you want to build it from the source that is.

```bash
ZOLA=https://github.com/getzola/zola/releases/download/v0.9.0/zola-v0.9.0-x86_64-unknown-linux-gnu.tar.gz
curl -s -L ${ZOLA} | sudo tar xvzf - -C /usr/local/bin
```

To check the installation you can try to print the version.

```bash
zola -V
```

## New Project

Now that we have Zola installed it is time to create something. To do this we will use `zola init`.

```bash
zola init hello-zola
cd hello-zola
```
[Init](https://www.getzola.org/documentation/getting-started/cli-usage/#init) creates the project directory structure after asking a couple of configuration questions. All changes made by the init can be easily changed by modifying the file [config.toml](https://www.getzola.org/documentation/getting-started/configuration/). The created structure looks like the following:

```
.
├── content
├── sass
├── static
├── templates
├── themes
└── config.toml
```

For now let's focus on `content` which holds [sections](https://www.getzola.org/documentation/content/section/) and [pages](https://www.getzola.org/documentation/content/page/) of the website and `templates` where Zola looks for your [template](https://www.getzola.org/documentation/templates/overview/) files. 

### Templates

By default, Zola will look for three templates:
 - `index.html` is applied to the site homepage
 - `section.html` is applied to all sections (any HTML page generated by creating a directory within your content directory)
 - `page.html` is applied to all pages (any HTML page generated by creating a .md file within your content directory).

To start we need to create a template for the page we are about to generate. Let's create a template for our page: `templates/page.html`:

```html
<!DOCTYPE html>
<html>
<body>
    <h2>{{ page.title}}</h2>
    {{ page.content }}
</body>
</html>
```

### Content

Zola uses the folder structure inside of the `content` directory to determine the site structure. Each folder in the content directory represents a section that contains pages (Your .md files).

Now lets create a home page: `contents/home.md`.

```markdown
+++
title = "Hello, Zola!"
+++

Some awesome content!
```

Awesome. We've got a page and some great content. The last thing we need is to tell the root section to redirect to our new page. For this we need to create `contents/_index.md` file. This file is used to store both metadata and content of the section itself and is not considered a page. There we can specify the redirect.

```markdown
+++
redirect_to = "/home"
+++
```

With this change we are done with the content. let's try it out!

## Serving the content

To test if the content works you can try `zola build` command or `zola serve` if you want to immediately run the built site.
```bash
zola serve
```

This will build and serve the site using a local server. It uses '127.0.0.1:1111' by default but can be customized. You can also specify the interface/port combination to use if you want something different than the default values.

```bash
zola serve --interface 0.0.0.0 --port 2000 --output-dir www/public
```

## Conclusion

That's all that is needed to get started. Of course Zola has much more to offer. Just check the official documentation and happy building. 

[^1]: It was renamed to avoid confusion with the [Wordpress editor](https://wordpress.org/gutenberg/). [↩](@/blog/2020-03-05_hello-zola.md#ssgs)
